<template>
  <div class="grid mx-4 lg:mx-0">
    <div class="rounded-xl bg-gray-50">
      <div class="px-8 py-7">
        <h2
          class="inline text-xl font-semibold leading-tight text-gray-900 sm:block"
        >
          {{ title }}
        </h2>
        <p class="my-4 text-base">
          See our personalization engine in action by selecting a segment below.
        </p>
        <div class="relative">
          <button
            @click.prevent="showDropdown = !showDropdown"
            class="bg-white border relative border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full md:inline-block md:w-96 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-violet-500 dark:focus:border-violet-500"
            type="button"
          >
            Choose a segment
            <svg
              class="absolute right-4 inset-y-4"
              width="14"
              height="8"
              viewBox="0 0 14 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.25 1.25L7 6.5L1.75 1.25"
                stroke="#6B7280"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <div
            class="absolute z-10 bg-white rounded shadow md:w-96 dark:bg-gray-700"
            :class="{ hidden: !showDropdown }"
          >
            <h3 class="my-4 ml-4 text-sm font-semibold">Segments</h3>
            <ul
              class="text-sm text-gray-700 dark:text-gray-200"
              aria-labelledby="dropdownDefaultButton"
            >
              <li>
                <a
                  href="."
                  @click.prevent="emitSegment('beginner-bakers')"
                  class="block p-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  <svg
                    width="14"
                    height="12"
                    class="inline mr-2"
                    viewBox="0 0 14 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2.30001 10.5996V8.99994V8.99961H2.80001C2.79927 8.45941 2.9032 7.92585 3.10432 7.42793L2.30001 10.5996ZM2.30001 10.5996H1.20001L1.20001 8.99961L1.20001 8.9994C1.19991 8.75515 1.25573 8.51413 1.36318 8.29479C1.47064 8.07545 1.62689 7.88363 1.81995 7.73402L1.5241 7.35224L1.81995 7.73402C2.01301 7.58441 2.23776 7.48099 2.47698 7.43167C2.50932 7.42501 2.54181 7.41935 2.5744 7.41471L2.30001 10.5996ZM8.60001 2.69961C8.60001 3.12396 8.43144 3.53092 8.13138 3.83098C7.83133 4.13104 7.42436 4.29961 7.00001 4.29961C6.57567 4.29961 6.1687 4.13104 5.86864 3.83098C5.56858 3.53092 5.40001 3.12396 5.40001 2.69961C5.40001 2.27526 5.56858 1.8683 5.86864 1.56824C6.1687 1.26818 6.57567 1.09961 7.00001 1.09961C7.42436 1.09961 7.83133 1.26818 8.13138 1.56824C8.43144 1.8683 8.60001 2.27526 8.60001 2.69961ZM12.1 4.09961C12.1 4.3383 12.0052 4.56722 11.8364 4.73601C11.6676 4.90479 11.4387 4.99961 11.2 4.99961C10.9613 4.99961 10.7324 4.90479 10.5636 4.73601C10.3948 4.56722 10.3 4.3383 10.3 4.09961C10.3 3.86091 10.3948 3.632 10.5636 3.46321L10.2101 3.10966L10.5636 3.46321C10.7324 3.29443 10.9613 3.19961 11.2 3.19961C11.4387 3.19961 11.6676 3.29443 11.8364 3.46321C12.0052 3.632 12.1 3.86091 12.1 4.09961ZM8.62636 7.37326C9.05769 7.8046 9.30001 8.38961 9.30001 8.99961V10.5996H4.70001V8.99961C4.70001 8.38961 4.94233 7.8046 5.37367 7.37326C5.805 6.94193 6.39001 6.69961 7.00001 6.69961C7.61001 6.69961 8.19502 6.94193 8.62636 7.37326ZM3.70001 4.09961C3.70001 4.3383 3.60519 4.56722 3.43641 4.736C3.26763 4.90479 3.03871 4.99961 2.80001 4.99961C2.56132 4.99961 2.3324 4.90479 2.16362 4.73601C1.99483 4.56722 1.90001 4.3383 1.90001 4.09961C1.90001 3.86091 1.99483 3.632 2.16362 3.46321C2.3324 3.29443 2.56132 3.19961 2.80001 3.19961C3.03871 3.19961 3.26763 3.29443 3.43641 3.46321C3.60519 3.632 3.70001 3.86091 3.70001 4.09961ZM11.7 10.5996L11.7 9.00032C11.7 9.00008 11.7 8.99985 11.7 8.99961C11.7007 8.45809 11.6074 7.92254 11.4262 7.41627C11.4582 7.42091 11.4902 7.42652 11.5219 7.43311C11.7611 7.48267 11.9857 7.58619 12.1787 7.73577C12.3717 7.88535 12.5281 8.07704 12.6357 8.29622C12.7433 8.51525 12.7995 8.75594 12.8 8.99996C12.8 9.00013 12.8 9.0003 12.8 9.00047L12.8 10.5996H11.7Z"
                      fill="#9CA3AF"
                      stroke="#9CA3AF"
                    />
                  </svg>
                  Beginner bakers
                </a>
              </li>
              <li>
                <a
                  href="."
                  @click.prevent="emitSegment('pro-bakers')"
                  class="block p-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                  ><svg
                    width="14"
                    height="12"
                    class="inline mr-2"
                    viewBox="0 0 14 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2.30001 10.5996V8.99994V8.99961H2.80001C2.79927 8.45941 2.9032 7.92585 3.10432 7.42793L2.30001 10.5996ZM2.30001 10.5996H1.20001L1.20001 8.99961L1.20001 8.9994C1.19991 8.75515 1.25573 8.51413 1.36318 8.29479C1.47064 8.07545 1.62689 7.88363 1.81995 7.73402L1.5241 7.35224L1.81995 7.73402C2.01301 7.58441 2.23776 7.48099 2.47698 7.43167C2.50932 7.42501 2.54181 7.41935 2.5744 7.41471L2.30001 10.5996ZM8.60001 2.69961C8.60001 3.12396 8.43144 3.53092 8.13138 3.83098C7.83133 4.13104 7.42436 4.29961 7.00001 4.29961C6.57567 4.29961 6.1687 4.13104 5.86864 3.83098C5.56858 3.53092 5.40001 3.12396 5.40001 2.69961C5.40001 2.27526 5.56858 1.8683 5.86864 1.56824C6.1687 1.26818 6.57567 1.09961 7.00001 1.09961C7.42436 1.09961 7.83133 1.26818 8.13138 1.56824C8.43144 1.8683 8.60001 2.27526 8.60001 2.69961ZM12.1 4.09961C12.1 4.3383 12.0052 4.56722 11.8364 4.73601C11.6676 4.90479 11.4387 4.99961 11.2 4.99961C10.9613 4.99961 10.7324 4.90479 10.5636 4.73601C10.3948 4.56722 10.3 4.3383 10.3 4.09961C10.3 3.86091 10.3948 3.632 10.5636 3.46321L10.2101 3.10966L10.5636 3.46321C10.7324 3.29443 10.9613 3.19961 11.2 3.19961C11.4387 3.19961 11.6676 3.29443 11.8364 3.46321C12.0052 3.632 12.1 3.86091 12.1 4.09961ZM8.62636 7.37326C9.05769 7.8046 9.30001 8.38961 9.30001 8.99961V10.5996H4.70001V8.99961C4.70001 8.38961 4.94233 7.8046 5.37367 7.37326C5.805 6.94193 6.39001 6.69961 7.00001 6.69961C7.61001 6.69961 8.19502 6.94193 8.62636 7.37326ZM3.70001 4.09961C3.70001 4.3383 3.60519 4.56722 3.43641 4.736C3.26763 4.90479 3.03871 4.99961 2.80001 4.99961C2.56132 4.99961 2.3324 4.90479 2.16362 4.73601C1.99483 4.56722 1.90001 4.3383 1.90001 4.09961C1.90001 3.86091 1.99483 3.632 2.16362 3.46321C2.3324 3.29443 2.56132 3.19961 2.80001 3.19961C3.03871 3.19961 3.26763 3.29443 3.43641 3.46321C3.60519 3.632 3.70001 3.86091 3.70001 4.09961ZM11.7 10.5996L11.7 9.00032C11.7 9.00008 11.7 8.99985 11.7 8.99961C11.7007 8.45809 11.6074 7.92254 11.4262 7.41627C11.4582 7.42091 11.4902 7.42652 11.5219 7.43311C11.7611 7.48267 11.9857 7.58619 12.1787 7.73577C12.3717 7.88535 12.5281 8.07704 12.6357 8.29622C12.7433 8.51525 12.7995 8.75594 12.8 8.99996C12.8 9.00013 12.8 9.0003 12.8 9.00047L12.8 10.5996H11.7Z"
                      fill="#9CA3AF"
                      stroke="#9CA3AF"
                    />
                  </svg>
                  Pro bakers</a
                >
              </li>
            </ul>

            <h3 class="my-2 ml-4 text-sm font-semibold">Other</h3>
            <ul
              class="py-1 text-sm text-gray-700 dark:text-gray-200"
              aria-labelledby="dropdownDefaultButton"
            >
              <li>
                <a
                  href="."
                  @click.prevent="emitSegment('')"
                  class="block p-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                  ><svg
                    class="inline mr-2"
                    width="14"
                    height="13"
                    viewBox="0 0 14 13"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2.30001 10.5996V8.99994V8.99961H2.80001C2.79927 8.45941 2.9032 7.92585 3.10432 7.42793L2.30001 10.5996ZM2.30001 10.5996H1.20001L1.20001 8.99961L1.20001 8.9994C1.19991 8.75515 1.25573 8.51413 1.36318 8.29479C1.47064 8.07545 1.62689 7.88363 1.81995 7.73402L1.5241 7.35224L1.81995 7.73402C2.01301 7.58441 2.23776 7.48099 2.47698 7.43167C2.50932 7.42501 2.54181 7.41935 2.5744 7.41471L2.30001 10.5996ZM8.60001 2.69961C8.60001 3.12396 8.43144 3.53092 8.13138 3.83098C7.83133 4.13104 7.42436 4.29961 7.00001 4.29961C6.57567 4.29961 6.1687 4.13104 5.86864 3.83098C5.56858 3.53092 5.40001 3.12396 5.40001 2.69961C5.40001 2.27526 5.56858 1.8683 5.86864 1.56824C6.1687 1.26818 6.57567 1.09961 7.00001 1.09961C7.42436 1.09961 7.83133 1.26818 8.13138 1.56824C8.43144 1.8683 8.60001 2.27526 8.60001 2.69961ZM12.1 4.09961C12.1 4.3383 12.0052 4.56722 11.8364 4.73601C11.6676 4.90479 11.4387 4.99961 11.2 4.99961C10.9613 4.99961 10.7324 4.90479 10.5636 4.73601C10.3948 4.56722 10.3 4.3383 10.3 4.09961C10.3 3.86091 10.3948 3.632 10.5636 3.46321L10.2101 3.10966L10.5636 3.46321C10.7324 3.29443 10.9613 3.19961 11.2 3.19961C11.4387 3.19961 11.6676 3.29443 11.8364 3.46321C12.0052 3.632 12.1 3.86091 12.1 4.09961ZM8.62636 7.37326C9.05769 7.8046 9.30001 8.38961 9.30001 8.99961V10.5996H4.70001V8.99961C4.70001 8.38961 4.94233 7.8046 5.37367 7.37326C5.805 6.94193 6.39001 6.69961 7.00001 6.69961C7.61001 6.69961 8.19502 6.94193 8.62636 7.37326ZM3.70001 4.09961C3.70001 4.3383 3.60519 4.56722 3.43641 4.736C3.26763 4.90479 3.03871 4.99961 2.80001 4.99961C2.56132 4.99961 2.3324 4.90479 2.16362 4.73601C1.99483 4.56722 1.90001 4.3383 1.90001 4.09961C1.90001 3.86091 1.99483 3.632 2.16362 3.46321C2.3324 3.29443 2.56132 3.19961 2.80001 3.19961C3.03871 3.19961 3.26763 3.29443 3.43641 3.46321C3.60519 3.632 3.70001 3.86091 3.70001 4.09961ZM11.7 10.5996L11.7 9.00032C11.7 9.00008 11.7 8.99985 11.7 8.99961C11.7007 8.45809 11.6074 7.92254 11.4262 7.41627C11.4582 7.42091 11.4902 7.42652 11.5219 7.43311C11.7611 7.48267 11.9857 7.58619 12.1787 7.73577C12.3717 7.88535 12.5281 8.07704 12.6357 8.29622C12.7433 8.51525 12.7995 8.75594 12.8 8.99996C12.8 9.00013 12.8 9.0003 12.8 9.00047L12.8 10.5996H11.7Z"
                      fill="#D1D5DB"
                      stroke="#D1D5DB"
                    />
                    <line
                      x1="12.9119"
                      y1="1.557"
                      x2="1.057"
                      y2="11.5881"
                      stroke="#9CA3AF"
                      stroke-width="1.5"
                      stroke-linecap="round"
                    />
                  </svg>
                  Not personalized</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
const props = defineProps({ title: String, type: String });
const emit = defineEmits(["setSegment"]);
const showDropdown = ref(false);

const emitSegment = (val) => {
  emit("setSegment", val);
  showDropdown.value = !showDropdown.value;
};
</script>
